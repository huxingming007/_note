文档型的nosql数据库，文档实际上就是一个个json字符串，非常直观，符合我们的阅读习惯，主流的计算机语言对json都要很好的支持，数据从MongoDB中读取出来后，可无需转换直接使用。另外可以进行嵌套，嵌套的好吃是一次查询，就能把所需要的数据展现给你。比如电商为例子，上衣和裤子两种商品，除了共同的属性，如产地，材料，价格等等，还有各自不同的属性集，上衣有袖长，裤子有裤长等等。

这些独有属性可以以json子文档的方式嵌套在商品这个文档，一次查询直接获取全部内容，不需要进行多表join。

可以建立索引（唯一索引、二级索引、TTL索引、地理位置索引），可以对子文档的某个字段建立索引。类似于MySQL的explain查询执行计划。在内存足够的情况下，会把索引加载到内存中。覆盖索引的性能媲美与Redis。

复制集使用：高可用和读写负载均衡。primary，secondary。主从同步（oplog进行增量复制）。主节点宕机，主从切换的算法是raft（先到先得、少数服从多数），读写控制策略，比方说，写入不需要MongoDB确认，写到primary向客户端确认（默认），数据写入到副本集大多数成员成功后才向客户端发送确认。

最后MongoDB是为大数据而生，提供分片机制，mongos进行路由。

数据库设计

内嵌数据与引用数据的比较

优化文档增长：如果能预测到这个文档未来会有一定的更新。可以为文档预留一定的空间，这样子可以避免文档的移动，可以增加写入速度。热点数据放到固态硬盘上。